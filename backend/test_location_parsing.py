#!/usr/bin/env python3
"""
–¢–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –æ–±–ª–∞—Å—Ç–µ–π
"""

import sys
import os
sys.path.append(os.path.join(os.path.dirname(__file__), 'src'))

from core.translation_service import CityTranslationService

def test_location_translations():
    """–¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω–∏—è –æ–±–ª–∞—Å—Ç–µ–π"""
    
    test_cases = [
        # –ù–æ–≤—ã–µ –æ–±–ª–∞—Å—Ç–∏
        ("5 –∫—Ä—É–ø–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π –£–ª—ã—Ç–∞—É—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏", "–£–ª—ã—Ç–∞—É—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"),
        ("10 –∫—Ä—É–ø–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π –æ–±–ª–∞—Å—Ç–∏ –ê–±–∞–π", "–ê–±–∞–π—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"),
        ("10 –∫—Ä—É–ø–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π –æ–±–ª–∞—Å—Ç–∏ –ñ–µ—Ç—ã—Å—É", "–ñ–µ—Ç–∏—Å—É—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"),
        ("10 –∫—Ä—É–ø–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π –ñ–µ—Ç—ã—Å—É—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏", "–ñ–µ—Ç–∏—Å—É—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"),
        ("10 –∫—Ä—É–ø–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π –ñ–µ—Ç–∏—Å—É—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏", "–ñ–µ—Ç–∏—Å—É—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"),
        
        # –°—Ç–∞—Ä—ã–µ –æ–±–ª–∞—Å—Ç–∏
        ("5 –∫–æ–º–ø–∞–Ω–∏–π –ê–ª–º–∞—Ç–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏", "–ê–ª–º–∞—Ç–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"),
        ("10 –∫–æ–º–ø–∞–Ω–∏–π –æ–±–ª–∞—Å—Ç–∏ –ê–ª–º–∞—Ç—ã", "–ê–ª–º–∞—Ç–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"),
        ("15 –∫–æ–º–ø–∞–Ω–∏–π –ê–∫—Ç—é–±–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏", "–ê–∫—Ç—é–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"),
        ("20 –∫–æ–º–ø–∞–Ω–∏–π –æ–±–ª–∞—Å—Ç–∏ –ê–∫—Ç–æ–±–µ", "–ê–∫—Ç—é–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"),
        
        # –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
        ("5 companies in Ulytau region", "–£–ª—ã—Ç–∞—É—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"),
        ("10 companies in Abay oblast", "–ê–±–∞–π—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"),
        ("15 companies in Jetysu region", "–ñ–µ—Ç–∏—Å—É—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"),
    ]
    
    print("üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ª–æ–∫–∞—Ü–∏–π...")
    print("=" * 60)
    
    for i, (input_text, expected) in enumerate(test_cases, 1):
        # –ò–∑–≤–ª–µ–∫–∞–µ–º –ª–æ–∫–∞—Ü–∏—é –∏–∑ —Ç–µ–∫—Å—Ç–∞ (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞)
        words = input_text.lower().split()
        location_found = None
        
        # –ò—â–µ–º –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –ª–æ–∫–∞—Ü–∏–∏
        for j, word in enumerate(words):
            if word in ["–æ–±–ª–∞—Å—Ç–∏", "–æ–±–ª–∞—Å—Ç—å", "region", "oblast"]:
                if j + 1 < len(words):
                    location_found = f"{words[j]} {words[j+1]}"
                break
            elif word in ["—É–ª—ã—Ç–∞—É—Å–∫–æ–π", "—É–ª—ã—Ç–∞—É—Å–∫–∞—è", "ulytau"]:
                location_found = "—É–ª—ã—Ç–∞—É—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"
                break
            elif word in ["–∞–±–∞–π—Å–∫–æ–π", "–∞–±–∞–π—Å–∫–∞—è", "abay"]:
                location_found = "–∞–±–∞–π—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"
                break
            elif word in ["–∂–µ—Ç—ã—Å—É—Å–∫–æ–π", "–∂–µ—Ç—ã—Å—É—Å–∫–∞—è", "–∂–µ—Ç–∏—Å—É—Å–∫–æ–π", "–∂–µ—Ç–∏—Å—É—Å–∫–∞—è", "jetysu"]:
                location_found = "–∂–µ—Ç–∏—Å—É—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"
                break
            elif word in ["–∞–ª–º–∞—Ç–∏–Ω—Å–∫–æ–π", "–∞–ª–º–∞—Ç–∏–Ω—Å–∫–∞—è", "almaty"]:
                location_found = "–∞–ª–º–∞—Ç–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"
                break
            elif word in ["–∞–∫—Ç—é–±–∏–Ω—Å–∫–æ–π", "–∞–∫—Ç—é–±–∏–Ω—Å–∫–∞—è", "aktobe"]:
                location_found = "–∞–∫—Ç—é–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"
                break
        
        # –ü–µ—Ä–µ–≤–æ–¥–∏–º –Ω–∞–π–¥–µ–Ω–Ω—É—é –ª–æ–∫–∞—Ü–∏—é
        if location_found:
            translated = CityTranslationService.translate_city_name(location_found)
        else:
            translated = "–Ω–µ –Ω–∞–π–¥–µ–Ω–æ"
        
        status = "‚úÖ" if translated == expected else "‚ùå"
        print(f"{status} –¢–µ—Å—Ç {i}: '{input_text}' -> '{translated}' (–æ–∂–∏–¥–∞–ª–æ—Å—å: '{expected}')")
    
    print("=" * 60)
    print("–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!")

if __name__ == "__main__":
    test_location_translations() 